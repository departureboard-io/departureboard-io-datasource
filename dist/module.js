define(["react","@grafana/ui","@grafana/data","@grafana/runtime"],(function(t,e,n,r){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=51)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(8),o=n(28),a=n(29),i=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?o(t):a(t)}},function(t,e,n){var r=n(9),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();t.exports=a},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(3),o=n(2);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(4).Symbol;t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(27))},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(7),o=n(12);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=n},function(t,e){t.exports=r},function(t,e,n){var r=n(18),o=n(10),a=n(35),i=n(36),c=Object.prototype,u=c.hasOwnProperty,l=r((function(t,e){t=Object(t);var n=-1,r=e.length,l=r>2?e[2]:void 0;for(l&&a(e[0],e[1],l)&&(r=1);++n<r;)for(var s=e[n],f=i(s),p=-1,v=f.length;++p<v;){var y=f[p],b=t[y];(void 0===b||o(b,c[y])&&!u.call(t,y))&&(t[y]=s[y])}return t}));t.exports=l},function(t,e,n){var r=n(6),o=n(19),a=n(21);t.exports=function(t,e){return a(o(t,e,r),t+"")}},function(t,e,n){var r=n(20),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var a=arguments,i=-1,c=o(a.length-e,0),u=Array(c);++i<c;)u[i]=a[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=a[i];return l[e]=n(u),r(t,this,l)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(22),o=n(34)(r);t.exports=o},function(t,e,n){var r=n(23),o=n(24),a=n(6),i=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:a;t.exports=i},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(25),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(26),o=n(33);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(7),o=n(30),a=n(2),i=n(32),c=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,s=u.toString,f=l.hasOwnProperty,p=RegExp("^"+s.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||o(t))&&(r(t)?p:c).test(i(t))}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(8),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,c=r?r.toStringTag:void 0;t.exports=function(t){var e=a.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=i.call(t);return r&&(e?t[c]=n:delete t[c]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(31),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!a&&a in t}},function(t,e,n){var r=n(4)["__core-js_shared__"];t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),a=16-(o-r);if(r=o,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(10),o=n(11),a=n(13),i=n(2);t.exports=function(t,e,n){if(!i(n))return!1;var c=typeof e;return!!("number"==c?o(n)&&a(e,n.length):"string"==c&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(37),o=n(48),a=n(11);t.exports=function(t){return a(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(38),o=n(39),a=n(41),i=n(42),c=n(13),u=n(44),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=a(t),s=!n&&o(t),f=!n&&!s&&i(t),p=!n&&!s&&!f&&u(t),v=n||s||f||p,y=v?r(t.length,String):[],b=y.length;for(var d in t)!e&&!l.call(t,d)||v&&("length"==d||f&&("offset"==d||"parent"==d)||p&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||c(d,b))||y.push(d);return y}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(40),o=n(5),a=Object.prototype,i=a.hasOwnProperty,c=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&i.call(t,"callee")&&!c.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(3),o=n(5);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){(function(t){var r=n(4),o=n(43),a=e&&!e.nodeType&&e,i=a&&"object"==typeof t&&t&&!t.nodeType&&t,c=i&&i.exports===a?r.Buffer:void 0,u=(c?c.isBuffer:void 0)||o;t.exports=u}).call(this,n(14)(t))},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(45),o=n(46),a=n(47),i=a&&a.isTypedArray,c=i?o(i):r;t.exports=c},function(t,e,n){var r=n(3),o=n(12),a=n(5),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&o(t.length)&&!!i[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(9),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,i=a&&a.exports===o&&r.process,c=function(){try{var t=a&&a.require&&a.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=c}).call(this,n(14)(t))},function(t,e,n){var r=n(2),o=n(49),a=n(50),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return a(t);var e=o(t),n=[];for(var c in t)("constructor"!=c||!e&&i.call(t,c))&&n.push(c);return n}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){"use strict";n.r(e);var r=n(15),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function a(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.templateSrv=n,r}return e.$inject=["instanceSettings","templateSrv"],a(e,t),e.prototype.applyTemplateVariables=function(t){return i(i({},t),{stationCRS:this.templateSrv.replace(t.stationCRS)})},e}(n(16).DataSourceWithBackend),u=n(0),l=n.n(u),s=n(1),f="https://api.departureboard.io/api/v2.0",p={departures:!0,arrivals:!1,serviceDetails:!1},v=s.LegacyForms.SecretFormField,y=s.LegacyForms.FormField,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onAPIEndpointChange=function(t){var n=e.props,r=n.onOptionsChange,o=n.options,a=i(i({},o.jsonData),{apiEndpoint:t.target.value});r(i(i({},o),{jsonData:a}))},e.onAPIKeyChange=function(t){var n=e.props,r=n.onOptionsChange,o=n.options;r(i(i({},o),{secureJsonData:{apiKey:t.target.value}}))},e.onResetAPIKey=function(){var t=e.props,n=t.onOptionsChange,r=t.options;n(i(i({},r),{secureJsonFields:i(i({},r.secureJsonFields),{apiKey:!1}),secureJsonData:i(i({},r.secureJsonData),{apiKey:""})}))},e.componentDidMount=function(){var t=e.props,n=t.onOptionsChange,r=t.options,o=i(i({},r.jsonData),{apiEndpoint:f});n(i(i({},r),{jsonData:o}))},e}return a(e,t),e.prototype.render=function(){var t=this.props.options,e=t.jsonData,n=t.secureJsonFields,r=t.secureJsonData||{};return l.a.createElement("div",{className:"gf-form-group"},l.a.createElement("div",{className:"gf-form"},l.a.createElement(y,{label:"API Endpoint",labelWidth:10,inputWidth:20,onChange:this.onAPIEndpointChange,value:e.apiEndpoint||"",placeholder:"departureboard.io API URL"})),l.a.createElement("div",{className:"gf-form-inline"},l.a.createElement("div",{className:"gf-form"},l.a.createElement(v,{isConfigured:n&&n.apiKey,value:r.apiKey||"",label:"API Key",placeholder:"National Rail API key",labelWidth:10,inputWidth:17,onReset:this.onResetAPIKey,onChange:this.onAPIKeyChange}))))},e}(u.PureComponent),d=n(17),h=n.n(d),g=s.LegacyForms.FormField,m=function(t){function e(e){var n=t.call(this,e)||this;return n.onCheckboxChange=function(t){var e,r=n.props,o=r.onChange,a=r.query,c=r.onRunQuery;o(i(i({},a),((e={})[t.target.name]=t.target.checked,e))),c()},n.onFormFieldChange=function(t){var e,r=n.props,o=r.onChange,a=r.query,c=r.onRunQuery;o(i(i({},a),((e={})[t.target.name]=t.target.value,e))),c()},n}return a(e,t),e.prototype.render=function(){var t=h()(this.props.query,p),e=t.arrivals,n=t.departures,r=t.filterCRS,o=t.serviceDetails,a=t.stationCRS;return l.a.createElement("div",{className:"gf-form-group"},l.a.createElement("div",{className:"gf-form"},l.a.createElement(g,{name:"stationCRS",label:"CRS code for station",labelWidth:10,value:a||"",onChange:this.onFormFieldChange,placeholder:"PAD"}),l.a.createElement(g,{name:"filterCRS",label:"CRS code for filter station",labelWidth:15,value:r||"",onChange:this.onFormFieldChange,placeholder:"HAY",tooltip:"Will only show services that include the filter station as the origin or destination."})),l.a.createElement("div",{className:"gf-form"},l.a.createElement(s.Checkbox,{name:"serviceDetails",label:"Include service details?",width:20,value:o,onChange:this.onCheckboxChange})),l.a.createElement("div",{className:"gf-form"},l.a.createElement(s.Checkbox,{name:"departures",label:"Include departures?",width:20,value:n,onChange:this.onCheckboxChange})),l.a.createElement("div",{className:"gf-form"},l.a.createElement(s.Checkbox,{name:"arrivals",label:"Include arrivals?",width:20,value:e,onChange:this.onCheckboxChange})))},e}(u.PureComponent);n.d(e,"plugin",(function(){return j}));var j=new r.DataSourcePlugin(c).setConfigEditor(b).setQueryEditor(m)}])}));
//# sourceMappingURL=module.js.map